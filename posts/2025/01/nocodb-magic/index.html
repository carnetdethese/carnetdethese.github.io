<!doctype html><html class="not-ready lg:text-base" style=--bg:#faf8f1 lang=fr><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>NocoDB Magic - Gestion des groupes de TD - Carnet de th√®se</title><link rel=stylesheet href=/css/custom.css><script src=https://kit.fontawesome.com/c28017ba5c.js crossorigin=anonymous></script><meta name=theme-color><meta name=description content="La nouvelle ann√©e am√®ne son lot de bonnes r√©solutions. J&rsquo;ai un peu d√©laiss√© ce blog durant 2024, ce √† quoi j&rsquo;aimerais rem√©dier cette ann√©e. Pour cela, je vais me concentrer sur des billets plus courts, me permettant (je l&rsquo;esp√®re), de publier un peu plus. Stay tuned.
Pour ce premier billet de l&rsquo;ann√©e, j&rsquo;aimerais partager quelques id√©es sur l&rsquo;utilisation des bases de donn√©es pour une meilleure gestion (je l&rsquo;esp√®re aussi) des informations relatives aux groupes de TD que nous avons en tant qu&rsquo;enseignant‚Ä¢es."><meta name=author content><link rel="preload stylesheet" as=style href=https://carnetdethese.amimms.fr/main.min.css><link rel=preload as=image href=https://carnetdethese.amimms.fr/theme.png><link rel=preload as=image href=https://carnetdethese.amimms.fr/github.svg><link rel=preload as=image href=https://carnetdethese.amimms.fr/rss.svg><link rel=icon href=https://carnetdethese.amimms.fr/favicon.ico><link rel=apple-touch-icon href=https://carnetdethese.amimms.fr/apple-touch-icon.png><meta name=generator content="Hugo 0.155.3"><link rel=icon type=image/x-icon href=/static-files/images/favicon.png></head><script async src="https://www.googletagmanager.com/gtag/js?id=G-G3PYPVBPZG"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-G3PYPVBPZG")</script><body class="text-black duration-200 ease-out dark:text-white"><header class="mx-auto flex h-[4.5rem] max-w-3xl px-8 lg:justify-center"><div class="relative z-50 mr-auto flex items-center"><a class="-translate-x-[1px] -translate-y-[1px] text-2xl font-semibold" href=https://carnetdethese.amimms.fr/>Carnet de th√®se</a><div class="btn-dark text-[0] ml-4 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.svg)_left_center/cover_no-repeat] dark:invert dark:[background-position:right]" role=button aria-label=Dark></div></div><div class="btn-menu relative z-50 -mr-8 flex h-[4.5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden" role=button aria-label=Menu></div><script>const htmlClass=document.documentElement.classList;setTimeout(()=>{htmlClass.remove("not-ready")},10);const btnMenu=document.querySelector(".btn-menu");btnMenu.addEventListener("click",()=>{htmlClass.toggle("open")});const metaTheme=document.querySelector('meta[name="theme-color"]'),lightBg="#faf8f1".replace(/"/g,""),setDark=e=>{metaTheme.setAttribute("content",e?"#000":lightBg),htmlClass[e?"add":"remove"]("dark"),localStorage.setItem("dark",e)},darkScheme=window.matchMedia("(prefers-color-scheme: dark)");if(htmlClass.contains("dark"))setDark(!0);else{const e=localStorage.getItem("dark");setDark(e?e==="true":darkScheme.matches)}darkScheme.addEventListener("change",e=>{setDark(e.matches)});const btnDark=document.querySelector(".btn-dark");btnDark.addEventListener("click",()=>{setDark(localStorage.getItem("dark")!=="true")})</script><div class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full select-none flex-col justify-center pb-16 duration-200 dark:bg-black lg:static lg:h-auto lg:flex-row lg:!bg-transparent lg:pb-0 lg:transition-none"><nav class="lg:ml-12 lg:flex lg:flex-row lg:items-center lg:space-x-6"><a class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal" href=/about/>A propos</a>
<a class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal" href=/posts/>Fil d'actualit√©</a></nav><nav class="mt-12 flex justify-center space-x-10 dark:invert lg:ml-12 lg:mt-0 lg:items-center lg:space-x-6"><a class="h-8 w-8 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./github.svg) href=https://github.com/carnetdethese target=_blank rel=me>github
</a><a class="h-8 w-8 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./rss.svg) href=https://carnetdethese.amimms.fr/index.xml target=_blank rel=alternate>rss</a></nav></div></header><main class="prose prose-neutral relative mx-auto min-h-[calc(100%-9rem)] max-w-3xl px-8 pb-16 pt-12 dark:prose-invert"><article><header class=mb-20><h1 class="!my-0 pb-2.5">NocoDB Magic - Gestion des groupes de TD</h1><div class="text-sm opacity-60"><time>Jan 24, 2025</time>
<span class=mx-1>&#183;</span>
<span>Alexandre</span></div></header><section><p>La nouvelle ann√©e am√®ne son lot de bonnes r√©solutions. J&rsquo;ai un peu d√©laiss√© ce blog durant 2024, ce √† quoi j&rsquo;aimerais rem√©dier cette ann√©e. Pour cela, je vais me concentrer sur des billets plus courts, me permettant (je l&rsquo;esp√®re), de publier un peu plus. Stay tuned.</p><p>Pour ce premier billet de l&rsquo;ann√©e, j&rsquo;aimerais partager quelques id√©es sur l&rsquo;utilisation des bases de donn√©es pour une meilleure gestion (je l&rsquo;esp√®re aussi) des informations relatives aux groupes de TD que nous avons en tant qu&rsquo;enseignant‚Ä¢es.</p><p>Depuis que j&rsquo;ai install√© un petit Raspberry Pi √† la maison, j&rsquo;ai tendance √† tester un certain nombre d&rsquo;outils diff√©rents pour diverses t√¢ches (to-do list, calendrier, gestion des repas, etc.). R√©cemment, j&rsquo;ai essay√© <a href=https://baserow.io/>Baserow</a> (dont avait d√©j√† parl√© mon cher ami Jan dans un <a href=https://carnetdethese.amimms.fr/posts/2023/03/base-donnees.md/>billet pr√©c√©dent</a>) et <a href=https://nocodb.com/>NocoDB</a>. J&rsquo;ai trouv√© NocoDB plus performant et polyvalent, et c&rsquo;est de cela dont je vais vous parler.</p><blockquote><p>Un petit disclaimer : cela ne signifie pas que NocoDB est <em>mieux</em> dans l&rsquo;absolu. Comme chaque outil, cela d√©pend de l&rsquo;utilisation qu&rsquo;on en a. En l&rsquo;occurence, NocoDB est plus adapt√© √† mes besoins.</p></blockquote><p>Depuis que j&rsquo;ai commenc√© √† enseigner, en 2022, j&rsquo;ai cherch√© diverses mani√®res de tenir √† jour un tableau organis√© et coh√©rent des √©tudiants que j&rsquo;avais sous ma responsabilit√©. Etant un utilisateur d&rsquo;Obsidian, j&rsquo;ai d&rsquo;abord jet√© mon d√©volu sur une solution int√©gr√©e √† ce logiciel, ce qui, √† terme, ne m&rsquo;a pas convaincu. Le probl√®me principal fut que, dans la mesure o√π Obsidian est un outil de prise de notes, il n&rsquo;est pas adapt√© pour l&rsquo;utilisation que j&rsquo;essayais d&rsquo;en faire, √† savoir comme un <em>spreadsheet</em>. Mauvaise id√©e.</p><p>J&rsquo;ai donc utilis√© un excel - classique, efficace, mais qui a ses limites pour certains usages. Et puis, ce n&rsquo;est pas tr√®s ‚ú®fun‚ú®.</p><p>Vers octobre dernier, apr√®s quelques essais avec NocoDB, j&rsquo;ai pris la d√©cision de basculer l&rsquo;int√©gralit√© de ma gestion des travaux dirig√©s sur le logiciel (il tourne sur mon Raspberry Pi, donc toutes les donn√©es restent sous mon contr√¥le). Et l√†, r√©v√©lation : en plus de b√©n√©ficier d&rsquo;une synchronisation imm√©diate avec mes diff√©rents appareils, je dispose dor√©navant d&rsquo;une base de donn√©e coh√©rente, unique et qui int√®gre un suivi pr√©cis des √©tudiants sous ma responsabilit√© durant l&rsquo;ann√©e.</p><p>Pour la faire simple, NocoDB propose, comme Baserow, d&rsquo;une interface tr√®s intuitive permettant de cr√©er diff√©rentes bases de donn√©es <em>relationnelles</em> (c&rsquo;est important pour la suite). Les donn√©es ins√©r√©es dans ces bases peuvent √™tre r√©cup√©r√©es via une API relativement facile d&rsquo;utilisation pour des scripts personnalis√©s. Je vous pr√©senterai un cas d&rsquo;usage plus bas.</p><h2 id=sch√©ma-de-la-base-de-donn√©es-relative-aux-travaux-dirig√©s>Sch√©ma de la base de donn√©es relative aux Travaux Dirig√©s</h2><p>Quatre tables permettent de stocker toutes les informations n√©cessaires :
<img src=tables.png alt="tables names"></p><ul><li>Dans la table &ldquo;Mati√®res&rdquo; se trouvent les diff√©rentes mati√®res que j&rsquo;enseigne. Il y a une colonne pour le niveau (L1, L2, L3&mldr;) et le semestre ;</li><li>Dans la table &ldquo;Examens&rdquo;, les examens (peu importe la mati√®re) auxquels sont soumis les √©tudiant‚Ä¢es.<ul><li>En outre du type de l&rsquo;examen et du sujet, j&rsquo;ai ajout√© un lien (une relation) entre cette table et la table &ldquo;Mati√®res&rdquo;, me permettant ainsi de ne pas avoir √† r√©p√©ter les informations relatives au niveau ou √† l&rsquo;ann√©e. Cette table contient aussi une valeur tr√®s importante pour la suite : le <em>coefficient</em> affect√© √† l&rsquo;examen.<ul><li>Par exemple, les galops d&rsquo;essai ont quasiment toujours un poids √©gal √† 50% de la note finale. Le coefficient ins√©r√©, en d√©cimal, est donc <code>0.5</code>, ce qui permettra ensuite le calcul de la note affect√©e du coefficient pour le calcul de la moyenne ;</li></ul></li></ul></li><li>Dans la table &ldquo;Etudiants&rdquo; se trouvent bien √©videmment la liste des √©tudiant‚Ä¢es. Ils y sont m√©lang√©s, peu importe le niveau, semestre, etc. Chaque ligne contient une colonne &ldquo;mati√®res&rdquo;, qui est en lien, vous l&rsquo;aurez compris, avec la table &ldquo;Mati√®res&rdquo;, permettant ainsi, ici encore, de ne pas avoir √† r√©p√©ter les informations relative au niveau ou au semestre. Cela me permet aussi, si des √©tudiants restent au second semestre, de ne pas avoir √† recr√©er une ligne avec l&rsquo;√©tudiant en question mais de simplement l&rsquo;ajouter √† la mati√®re du second semestre ;</li><li>Dans la table &ldquo;Notes&rdquo; sont ins√©r√©es les notes. Chaque ligne est une note unique, ce qui signifie qu&rsquo;il y a autant de lignes par √©tudiant‚Ä¢es qu&rsquo;il y a d&rsquo;examens pour la mati√®re.<ul><li>Il y a une colonne pour la note elle-m√™me, mais aussi une colonne pour la note affect√©e du coefficient (ex. pour le galop, un 16 sera calcul√© comme 16 * 0.5, soit 8) afin de calculer, en bout de cha√Æne, la moyenne. J&rsquo;ai d√ª jouer avec les limitations de NocoDB pour faire cela, car le programme ne permet pour l&rsquo;instant pas de faire des calculs complexes √† partir de donn√©es r√©cup√©r√©es dans d&rsquo;autres tables.</li><li>Dans cette table, j&rsquo;ai aussi ajout√© une colonne &ldquo;correction&rdquo; pouvant contenir un fichier. Je corrige beaucoup de devoirs sous format PDF (cela permet d&rsquo;√©viter des impressions inutiles et des risques de perte de feuilles), et cette colonne me permet donc de conserver chaque devoir corrig√© en PDF dans la ligne correspondant √† la note.</li></ul></li></ul><p>On dit souvent qu&rsquo;une image vaut mieux que 1000 mots :
<img src=relations.png alt=Relations></p><h2 id=une-utilisation-int√©ressante---mails-automatiques>Une utilisation int√©ressante - mails automatiques</h2><p>En plus de la simplification dans la gestion des notes que cette base de donn√©es permet, on peut en tirer d&rsquo;autres utilisations int√©ressantes. En voici une.</p><p>Pour le rendu des devoirs envoy√©s par mail, et la transmission des notes aux √©tudiants en fin de semestre, il est, avec ~150 √©tudiant‚Ä¢es, difficilement envisageable de le faire un par un, pour chacune et chacun. J&rsquo;ai donc √©crit un petit script en Python permettant d&rsquo;automatiser la t√¢che, en tirant les donn√©es de NocoDB.</p><p>Ce script permet, en outre, d&rsquo;ajouter les devoirs corrig√©s, lorsqu&rsquo;ils sont pr√©sents, au mail ; de personnaliser le message si l&rsquo;√©tudiant‚Ä¢e a obtenu un (demi-)point bonus pour la participation ; d&rsquo;adapter le message en fonction de la mati√®re concern√©e.</p><p>Avouons que cette utilisation est int√©ressante, n&rsquo;est-ce pas ? üòâ</p><blockquote><p>Pour celles et ceux que √ßa peut int√©resser : je mettrai le script sur un repo github prochainement si cela vous int√©resse.</p></blockquote><p>A bient√¥t !</p></section><nav class="mt-24 flex rounded-lg bg-black/[3%] p-1.5 text-lg dark:bg-white/[8%]"><a class="flex w-1/2 items-center rounded-md p-6 pr-3 no-underline hover:bg-black/[2%]" href=https://carnetdethese.amimms.fr/posts/2025/03/fin-du-game/><span class=mr-1.5>‚Üê</span><span>Le module L√©gifrance Int√©gration est-il malmen√© ?</span></a>
<a class="ml-auto flex w-1/2 items-center justify-end rounded-md p-6 pl-3 no-underline hover:bg-black/[2%]" href=https://carnetdethese.amimms.fr/posts/2024/05/tutoriel-video/><span>Tutoriel vid√©o - Legifrance int√©gration</span><span class=ml-1.5>‚Üí</span></a></nav></article></main><footer class="opaco mx-auto flex h-[4.5rem] max-w-3xl items-center px-8 text-[0.9em] opacity-60"><div class=mr-auto>&copy; 2026
<a class=link href=https://carnetdethese.amimms.fr/>Carnet de th√®se</a></div><a class="link mx-6" href=https://gohugo.io/ rel=noopener target=_blank>Powered by HugoÔ∏èÔ∏è</a>Ô∏è
<a class=link href=https://github.com/nanxiaobei/hugo-paper rel=noopener target=_blank>‚úé Paper</a></footer></body></html>